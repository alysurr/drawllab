!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("classnames"),require("prop-types"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","classnames","prop-types","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Webrix={},e.React,e.classNames,e.PropTypes,e.ReactDOM)}(this,(function(e,t,n,r,o){"use strict";function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=c(t),i=c(n),l=c(o);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return c}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=function(){return null},v={expanded:r.bool,onTransitionEnd:r.func,children:r.node.isRequired},m={expanded:!1,onTransitionEnd:b};function g(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}g(".collapsible{--duration:300ms;--delay:calc(var(--duration)*0.5);--expanded:initial;display:flex;flex-direction:column;justify-content:center;overflow:hidden}.collapsible>.content-wrapper{transition:height calc(var(--duration)*0.75) cubic-bezier(.7,0,.3,1) calc(var(--delay)*(var(--expanded, 2) - 1)),opacity calc(var(--duration)*0.5) ease-out calc(var(--delay)*var(--expanded, 0)),transform calc(var(--duration)*1) ease-out;overflow:hidden;opacity:var(--expanded,0);transform:var(--expanded,translateX(-40px))}.collapsible.expanded,.collapsible.expanding{--expanded:1}");var y=["expanded","children","onTransitionEnd"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var n=e.expanded,r=e.children,o=e.onTransitionEnd,c=h(e,y),l=d(t.useState({motion:"",height:n?"auto":0}),2),s=l[0],f=s.motion,p=s.height,b=l[1],v=!!a.default.Children.count(r),m=t.useRef(),g=t.useRef(),O=t.useCallback((function(e){"transform"===e.propertyName&&(b((function(e){return w(w({},e),{},{motion:"",height:e.height?"auto":0})})),o(e))}),[o]);return t.useEffect((function(){g.current&&b({height:m.current.clientHeight,motion:n?"expanding":"collapsing"}),g.current=!0}),[n]),t.useEffect((function(){document.body.scrollTop,"collapsing"===f&&b((function(e){return w(w({},e),{},{height:0})}))}),[f]),a.default.createElement("div",u({},c,{className:i.default("collapsible",f,{expanded:n&&!f},c.className)}),v&&a.default.createElement("div",{className:"content-wrapper",onTransitionEnd:O,style:{height:p}},a.default.createElement("div",{className:"content",ref:m},r)))};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}x.propTypes=v,x.defaultProps=m;var P={onBeginMove:r.func,onMove:r.func,onEndMove:r.func},R={onBeginMove:b,onMove:b,onEndMove:b};g(".movable{touch-action:none;user-select:none}");var E=["onBeginMove","onMove","onEndMove"],M=t.forwardRef((function(e,t){var n=e.onBeginMove,r=e.onMove,o=e.onEndMove,c=h(e,E),l=function(e,t,n){var r={},o={},c=function(e){return z(z({},e),{},{cx:e.x-o.x,cy:e.y-o.y,dx:e.x-r.x,dy:e.y-r.y})};return{start:function(t){r={x:t.x,y:t.y},o=z({},r),e(c(t))},move:function(e){t(c(e)),o={x:e.x,y:e.y}},end:function(e){n(c(e))}}}(n,r,o),s=function(e){var t=function(e){return{x:e.clientX,y:e.clientY,target:e.target,stopPropagation:function(){return e.stopPropagation()},preventDefault:function(){return e.preventDefault()}}},n=function(n){e.move(t(n))},r=function r(o){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),e.end(t(o))};return function(o){document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),e.start(t(o))}}(l),f=function(e){var t=function(e){return{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY,target:e.changedTouches[0].target,stopPropagation:function(){return e.stopPropagation()},preventDefault:function(){return e.preventDefault()}}},n=function(n){e.move(t(n))},r=function r(o){document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),e.end(t(o))};return function(o){o.preventDefault(),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),e.start(t(o))}}(l);return a.default.createElement("div",u({},c,{ref:t,onMouseDown:s,onTouchStart:f,className:i.default("movable",c.className)}))}));M.displayName="Movable",M.propTypes=P,M.defaultProps=R;var k=t.memo(M),C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r){if(e>n)return t;if(e<t)return n}return Math.min(Math.max(e,t),n)},S=function(e,t,n,r,o){return(e-t)/(n-t)*(o-r)+r},T=function(e,t){return Math.round(e/t)*t},D=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},B=Object.freeze({__proto__:null,clamp:C,map:S,interval:T,decimals:D}),N="object",_="array",L="undefined",A="string",H=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},W=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.includes(H(e))},I=function(e){return W(e,N)},F=function(e){return W(e,_)},U=function(e){return W(e,L)},V=function(e){return W(e,A)},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.replace(/]/g,"").split(/[.[]/).filter((function(e){return""!==e})),c=t.replace(/]/g,"").split(/[^.[]+/).filter((function(e){return""!==e}));t.startsWith("[")&&c.shift();var a=e;return o.forEach((function(e,t){t<o.length-1?(Object.prototype.hasOwnProperty.call(a,e)||(a[e]="."===c[t]?{}:[]),a=a[e]):U(n)&&r?delete a[e]:a[e]=n})),e},X={SHALLOW:function(e,t){return e===t},DEEP:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return!!n.includes(e)||(e instanceof Object&&n.push(e),Y(e,t,(function(e,t){return X.DEEP(e,t,n)})))}},Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X.DEEP;return e===t||H(e)===H(t)&&(I(e)&&Object.keys(e).length===Object.keys(t).length?Object.keys(e).every((function(r){return n(e[r],t[r])})):!(!F(e)||e.length!==t.length)&&e.every((function(r,o){return n(e[o],t[o])})))},$=function e(t){return Object.keys(t).reduce((function(n,r){return n[r]=I(t[r])||F(t[r])?e(t[r]):t[r],n}),F(t)?[]:{})},G=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?n.filter((function(e){return V(e)})).reduce((function(e,t){return q(e,t,void 0,!0)}),$(e)):e};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var K=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onBeginMove:b,onMove:b,onEndMove:b},e)},Q=function(e){return function(t,n){Y(n.prev,n.next)||(e(n.next),n.prev=n.next)}},Z=Object.freeze({__proto__:null,createOperation:K,move:function(e){return K({onBeginMove:function(t,n){var r=e.current.getBoundingClientRect(),o=r.top,c=r.left;n.next={top:o,left:c},n.initial={top:o,left:c}},onMove:function(e,t){var n=e.dx,r=e.dy,o=t.initial,c=o.left,a=o.top;t.next={left:c+n,top:a+r}}})},trackpad:function(e){return K({onBeginMove:function(t,n){var r=t.x,o=t.y;n.initial=e.current.getBoundingClientRect(),n.next={left:r-n.initial.left,top:o-n.initial.top},n.bounds={top:0,left:0,right:n.initial.width,bottom:n.initial.height}},onMove:function(e,t){var n=e.x,r=e.y,o=t.bounds,c=t.initial;t.next={left:C(n-c.left,o.left,o.right),top:C(r-c.top,o.top,o.bottom)}}})},contain:function(e,t){return K({onBeginMove:function(n,r){var o=e.current.getBoundingClientRect(),c=o.width,a=o.height;r.bounds=t.current.getBoundingClientRect(),r.size={width:c,height:a}},onMove:function(e,t){var n=t.bounds,r=t.next,o=t.size;t.next={left:C(r.left,n.left,n.right-o.width),top:C(r.top,n.top,n.bottom-o.height)}}})},snap:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return K({onMove:function(r,o){var c=o.next,a=c.top,i=c.left,l=Math.round(i/e)*e,u=Math.round(a/t)*t,s=Math.abs(i-l),f=Math.abs(a-u);o.next={left:s<=n*e/2?l:i,top:f<=n*t/2?u:a}}})},transform:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return K({onBeginMove:function(e,n){return n.next=t.reduce((function(e,t){return t(e)}),n.next)},onMove:function(e,n){return n.next=t.reduce((function(e,t){return t(e)}),n.next)}})},update:function(e){return K({onBeginMove:Q(e),onMove:Q(e),onEndMove:Q(e)})},relative:function(e){return K({onBeginMove:function(t,n){var r=e.current.getBoundingClientRect();n.reference=r,n.next={left:Math.round(n.next.left-r.left),top:Math.round(n.next.top-r.top)}},onMove:function(e,t){var n=t.reference,r=t.next;t.next={left:Math.round(r.left-n.left),top:Math.round(r.top-n.top)}}})}}),ee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return S.apply(B,[e].concat(t))}},te=Object.freeze({__proto__:null,map:ee,clamp:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return C.apply(B,[e].concat(t))}},interval:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return T.apply(B,[e].concat(t))}},decimals:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return D.apply(B,[e].concat(t))}},angle:function(e){var t=e.center,n=t.x,r=t.y,o=e.angle,c=o.from,a=o.range,i=e.output,l=i.min,u=i.max;return function(e){var t=e.left,o=e.top,i=t-n,s=o-r,f=(Math.atan(s/i)+(i<0?Math.PI:0)+Math.PI/2)*(180/Math.PI);return(f=f-c+(f>=0&&f<c?360:0))>180+a/2&&(f=0),ee(0,a,l,u)(C(f,0,a))}}});k.useMove=function(e){var n=t.useRef({});return{onBeginMove:t.useCallback((function(t){e.forEach((function(e){return(0,e.onBeginMove)(t,n.current)}))}),[e]),onMove:t.useCallback((function(t){e.forEach((function(e){return(0,e.onMove)(t,n.current)}))}),[e]),onEndMove:t.useCallback((function(t){e.forEach((function(e){return(0,e.onEndMove)(t,n.current)}))}),[e])}},k.Operations=Z,k.Transformers=te;var ne={onBeginResize:r.func,onResize:r.func,onEndResize:r.func,children:r.node},re={onBeginResize:b,onResize:b,onEndResize:b,children:null};g(".resizable{position:absolute;width:20px;height:20px;user-select:none}.resizable.right-resizer{right:-10px;top:0;height:100%;cursor:ew-resize}.resizable.left-resizer{left:-10px;top:0;height:100%;cursor:ew-resize}.resizable.bottom-resizer{bottom:-10px;width:100%;cursor:ns-resize}.resizable.top-resizer{top:-10px;width:100%;cursor:ns-resize}.resizable.bottom-right-resizer{right:-10px;bottom:-10px;z-index:1;cursor:nwse-resize}.resizable.bottom-left-resizer{left:-10px;bottom:-10px;z-index:1;cursor:nesw-resize}.resizable.top-left-resizer{left:-10px;top:-10px;z-index:1;cursor:nwse-resize}.resizable.top-right-resizer{right:-10px;top:-10px;z-index:1;cursor:nesw-resize}");var oe=function(e){var t=e.onBeginResize,n=e.onResize,r=e.onEndResize,o=e.children;return a.default.Children.toArray(o).map((function(e){return a.default.cloneElement(e,{onBeginResize:t,onResize:n,onEndResize:r})}))};oe.displayName="Resizable",oe.propTypes=ne,oe.defaultProps=re;var ce=t.memo(oe);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le={top:0,left:0,width:0,height:0},ue=function(e){var t=e.direction,n=e.onBeginResize,r=e.onResize,o=e.onEndResize;return a.default.createElement(k,{className:"resizable ".concat(t,"-resizer"),onBeginMove:n,onMove:r,onEndMove:o})};ue.propTypes=ne;var se=t.memo((function(e){var n=e.onResize,r=t.useCallback((function(e){var t=e.dy,r=e.cy;return n({delta:ie(ie({},le),{},{top:t,height:-t}),change:ie(ie({},le),{},{top:r,height:-r})})}),[n]);return a.default.createElement(ue,u({},e,{onResize:r,direction:"top"}))}));se.propTypes=ne,se.displayName="Resizable.Resizer.Top";var fe=t.memo((function(e){var n=e.onResize,r=t.useCallback((function(e){var t=e.dx,r=e.cx;return n({delta:ie(ie({},le),{},{left:t,width:-t}),change:ie(ie({},le),{},{left:r,width:-r})})}),[n]);return a.default.createElement(ue,u({},e,{onResize:r,direction:"left"}))}));fe.propTypes=ne,fe.displayName="Resizable.Resizer.Left";var pe=t.memo((function(e){var n=e.onResize,r=t.useCallback((function(e){var t=e.dy,r=e.cy;return n({delta:ie(ie({},le),{},{height:t}),change:ie(ie({},le),{},{height:r})})}),[n]);return a.default.createElement(ue,u({},e,{onResize:r,direction:"bottom"}))}));pe.propTypes=ne,pe.displayName="Resizable.Resizer.Bottom";var de=t.memo((function(e){var n=e.onResize,r=t.useCallback((function(e){var t=e.dx,r=e.cx;return n({delta:ie(ie({},le),{},{width:t}),change:ie(ie({},le),{},{width:r})})}),[n]);return a.default.createElement(ue,u({},e,{onResize:r,direction:"right"}))}));de.propTypes=ne,de.displayName="Resizable.Resizer.Right";var he=t.memo((function(e){var n=e.onResize,r=t.useCallback((function(e){var t=e.dx,r=e.dy,o=e.cx,c=e.cy;return n({delta:{left:t,width:-t,top:r,height:-r},change:{left:o,width:-o,top:c,height:-c}})}),[n]);return a.default.createElement(ue,u({},e,{onResize:r,direction:"top-left"}))}));he.propTypes=ne,he.displayName="Resizable.Resizer.TopLeft";var be=t.memo((function(e){var n=e.onResize,r=t.useCallback((function(e){var t=e.dx,r=e.dy,o=e.cx,c=e.cy;return n({delta:ie(ie({},le),{},{width:t,top:r,height:-r}),change:ie(ie({},le),{},{width:o,top:c,height:-c})})}),[n]);return a.default.createElement(ue,u({},e,{onResize:r,direction:"top-right"}))}));be.propTypes=ne,be.displayName="Resizable.Resizer.TopRight";var ve=t.memo((function(e){var n=e.onResize,r=t.useCallback((function(e){var t=e.dx,r=e.dy,o=e.cx,c=e.cy;return n({delta:ie(ie({},le),{},{left:t,width:-t,height:r}),change:ie(ie({},le),{},{left:o,width:-o,height:c})})}),[n]);return a.default.createElement(ue,u({},e,{onResize:r,direction:"bottom-left"}))}));ve.propTypes=ne,ve.displayName="Resizable.Resizer.BottomLeft";var me=t.memo((function(e){var n=e.onResize,r=t.useCallback((function(e){var t=e.dx,r=e.dy,o=e.cx,c=e.cy;return n({delta:ie(ie({},le),{},{width:t,height:r}),change:ie(ie({},le),{},{width:o,height:c})})}),[n]);return a.default.createElement(ue,u({},e,{onResize:r,direction:"bottom-right"}))}));me.propTypes=ne,me.displayName="Resizable.Resizer.BottomRight";var ge=t.memo((function(e){return[se,fe,pe,de,he,be,ve,me].map((function(t,n){return a.default.createElement(t,u({key:n},e))}))}));ge.propTypes=ne,ge.displayName="Resizable.Resizer.All";var ye={Top:se,Left:fe,Bottom:pe,Right:de,TopLeft:he,TopRight:be,BottomLeft:ve,BottomRight:me,All:ge};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){return we({onBeginResize:b,onResize:b,onEndResize:b},e)},je=function(e){return function(t,n){Y(n.prev,n.next)||(e(n.next),n.prev=n.next)}},ze=Object.freeze({__proto__:null,createOperation:xe,resize:function(e){return xe({onBeginResize:function(t,n){var r=e.current.getBoundingClientRect(),o=r.left,c=r.top,a=r.width,i=r.height;n.next={left:o,top:c,width:a,height:i},n.initial={left:o,top:c,width:a,height:i}},onResize:function(e,t){var n=e.delta,r=t.initial,o=r.left,c=r.top,a=r.width,i=r.height;t.next={width:Math.max(a+n.width,0),height:Math.max(i+n.height,0),left:o+n.left,top:c+n.top}}})},lock:function(){return xe({onResize:function(e,t){var n=e.delta,r=t.next,o=t.initial;0!==n.left?r.left=o.left+o.width-r.width:r.left=o.left,0!==n.top?r.top=o.top+o.height-r.height:r.top=o.top}})},contain:function(e){return xe({onBeginResize:function(t,n){n.max=e.current.getBoundingClientRect()},onResize:function(e,t){var n=e.delta,r=t.initial,o=t.next,c=t.max,a=C(o.width,0,0===n.left?c.left+c.width-r.left:r.left+r.width-c.left),i=C(o.height,0,0===n.top?c.top+c.height-r.top:r.top+r.height-c.top);t.next={left:c.left+a,top:c.top+i,width:a,height:i}}})},min:function(e,t){return xe({onResize:function(n,r){var o=r.next,c=o.width,a=o.height;r.next=we(we({},r.next),{},{width:Math.max(c,e),height:Math.max(a,t)})}})},max:function(e,t){return xe({onResize:function(n,r){var o=r.next,c=o.width,a=o.height;r.next=we(we({},r.next),{},{width:Math.min(c,e),height:Math.min(a,t)})}})},snap:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return xe({onResize:function(r,o){var c=o.next,a=c.width,i=c.height,l=Math.round(a/e)*e,u=Math.round(i/t)*t,s=Math.abs(a-l),f=Math.abs(i-u);o.next=we(we({},o.next),{},{width:s<=n*e/2?l:a,height:f<=n*t/2?u:i})}})},ratio:function(e){return xe({onResize:function(t,n){var r=n.next;r.width/r.height>e?r.height=r.width/e:r.width=r.height*e}})},update:function(e){return xe({onBeginResize:je(e),onResize:je(e),onEndResize:je(e)})},relative:function(e){return xe({onBeginResize:function(t,n){var r=e.current.getBoundingClientRect();n.reference=r,n.next=we(we({},n.next),{},{left:Math.round(n.next.left-r.left),top:Math.round(n.next.top-r.top)})},onResize:function(e,t){var n=t.reference,r=t.next;t.next=we(we({},t.next),{},{left:Math.round(r.left-n.left),top:Math.round(r.top-n.top)})}})}});function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}ce.Resizer=ye,ce.useResize=function(e){var n=t.useRef({});return{onBeginResize:t.useCallback((function(t){e.forEach((function(e){return(0,e.onBeginResize)(t,n.current)}))}),[e]),onResize:t.useCallback((function(t){e.forEach((function(e){return(0,e.onResize)(t,n.current)}))}),[e]),onEndResize:t.useCallback((function(t){e.forEach((function(e){return(0,e.onEndResize)(t,n.current)}))}),[e])}},ce.Operations=ze;var Se=function(e,t){return function(n){"function"==typeof e&&e(n),e&&Object.prototype.hasOwnProperty.call(e,"current")&&(e.current=n),t.current=n}},Te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=a.default.Children.toArray(e).find((function(e){return e.type===t}));if(n&&!r)throw new Error("Could not find a child of type ".concat(t.displayName||t.name));return r},De=function(e,t,n){var r=Math.max(1,e-t),o=Math.min(1,n/r);return D(o,Math.floor(Math.log10(r))+1)},Be=function(e){return[e.left+e.width/2,e.top+e.height/2]},Ne=function(e,t){return["top","left","width","height"].every((function(n){return e[n]===t[n]}))},_e=function(e,t){return t.right>=e.left&&t.left<=e.right&&t.top<=e.bottom&&t.bottom>=e.top},Le=function(e,t){if(_e(e,t)){var n=Math.max(e.left,t.left),r=Math.max(e.top,t.top),o=Math.min(e.right,t.right),c=Math.min(e.bottom,t.bottom);return new DOMRect(n,r,o-n,c-r)}},Ae=function(e){return e.width*e.height},He=function(e){if(e.borderBoxSize){var t=Array.isArray(e.borderBoxSize)?e.borderBoxSize[0]:e.borderBoxSize;return{width:t.inlineSize,height:t.blockSize}}var n=e.target.getBoundingClientRect();return{width:n.width,height:n.height}},We="undefined"==typeof window,Ie=We?function(){}:window,Fe=We?function(){}:document,Ue=We?function(){}:window.ResizeObserver,Ve=We?function(){}:window.DOMRect,qe=We?function(){}:window.Element,Xe=We?function(){}:window.requestAnimationFrame.bind(window),Ye=We?function(){}:window.cancelAnimationFrame.bind(window),$e=function(e){var n=e.children,r=e.onResize,o=a.default.Children.only(n),c=t.useRef(),i=t.useRef(new Ue((function(e){r(He(e[0]))})));return t.useEffect((function(){var e=i.current;return e.observe(c.current),function(){return e.disconnect()}}),[]),a.default.cloneElement(o,{ref:Se(o.ref,c)})};$e.propTypes={children:r.node,onResize:r.func},$e.defaultProps={children:null,onResize:b};var Ge=t.createContext({container:{}}),Je=function(e,t,n){return k.Operations.createOperation({onBeginMove:function(t,n){t.stopPropagation(),t.preventDefault(),n.initial=e.current.scrollTop},onMove:function(r,o){var c=r.dy,a=e.current,i=a.clientHeight,l=a.scrollHeight,u=t.current.clientHeight,s=n.current.clientHeight;e.current.scrollTop=o.initial+c*(l-i)/(s-u)}})};g(".scrollbar.vertically-scrollable .vertical-scrollbar-track{visibility:visible;pointer-events:auto}.scrollbar .vertical-scrollbar-track{position:absolute;width:12px;height:100%;right:0;top:0}.scrollbar .vertical-scrollbar-track .scrollbar-thumb{--thumb-height:max(calc(var(--scrollable-vertical-ratio, 1)*100%),var(--scrollable-min-thumb-length,30px));right:0;box-sizing:border-box;top:calc(var(--scrollable-scroll-top, 0)*(100% - var(--thumb-height)));height:var(--thumb-height)}.scrollbar .vertical-scrollbar-track .scrollbar-thumb .scrollbar-thumb-inner{width:6px;height:100%}");var Ke=function(){var e=t.useRef(),n=t.useRef(),r=t.useContext(Ge).container,o=k.useMove(t.useMemo((function(){return[Je(r,n,e)]}),[r]));return a.default.createElement("div",{className:"scrollbar-track vertical-scrollbar-track",ref:e,onClick:function(t){if(t.stopPropagation(),!n.current.contains(t.target)){var o=e.current.getBoundingClientRect(),c=o.top,a=o.height,i=r.current.scrollHeight,l=(t.clientY-c)/a;r.current.style.scrollBehavior="smooth",r.current.scrollTop=l*i,r.current.style.scrollBehavior=""}}},a.default.createElement(k,u({className:"scrollbar-thumb",ref:n},o),a.default.createElement("div",{className:"scrollbar-thumb-inner"})))},Qe=function(){return null};Qe.displayName="Scrollbar.VerticalScrollbar";var Ze=function(e,t,n){return k.Operations.createOperation({onBeginMove:function(t,n){t.stopPropagation(),t.preventDefault(),n.initial=e.current.scrollLeft},onMove:function(r,o){var c=r.dx,a=e.current,i=a.clientWidth,l=a.scrollWidth,u=t.current.clientWidth,s=n.current.clientWidth;e.current.scrollLeft=o.initial+c*(l-i)/(s-u)}})};g(".scrollbar.horizontally-scrollable .horizontal-scrollbar-track{visibility:visible;pointer-events:auto}.scrollbar .horizontal-scrollbar-track{position:absolute;height:12px;width:100%;bottom:0;left:0}.scrollbar .horizontal-scrollbar-track .scrollbar-thumb{--thumb-width:max(calc(var(--scrollable-horizontal-ratio, 1)*100%),var(--scrollable-min-thumb-length,30px));bottom:0;box-sizing:border-box;left:calc(var(--scrollable-scroll-left, 0)*(100% - var(--thumb-width)));width:var(--thumb-width)}.scrollbar .horizontal-scrollbar-track .scrollbar-thumb .scrollbar-thumb-inner{height:6px;width:100%}");var et=function(){var e=t.useRef(),n=t.useRef(),r=t.useContext(Ge).container,o=k.useMove(t.useMemo((function(){return[Ze(r,n,e)]}),[r]));return a.default.createElement("div",{className:"scrollbar-track horizontal-scrollbar-track",ref:e,onClick:function(t){if(t.stopPropagation(),!n.current.contains(t.target)){var o=e.current.getBoundingClientRect(),c=o.left,a=o.width,i=r.current.scrollWidth,l=(t.clientX-c)/a;r.current.style.scrollBehavior="smooth",r.current.scrollLeft=l*i,r.current.style.scrollBehavior=""}}},a.default.createElement(k,u({className:"scrollbar-thumb",ref:n},o),a.default.createElement("div",{className:"scrollbar-thumb-inner"})))},tt=function(){return null};tt.displayName="Scrollbar.HorizontalScrollbar";var nt=function(e){return Math.min(e,70)/70};g(".scroll-shadow{pointer-events:none}");var rt=t.forwardRef((function(e,n){var r=e.children,o=a.default.Children.only(r),c=o.props.onUpdate,i=t.useRef(),l=t.useCallback((function(e){i.current.style.boxShadow=function(e){var t=e.scrollTop,n=e.scrollLeft,r=e.scrollHeight,o=e.scrollWidth,c=e.clientHeight,a=e.clientWidth,i=15*nt(t),l=15*nt(n),u=15*nt(r-t-c),s=15*nt(o-n-a),f="var(--shadow-color, ".concat("rgba(28, 34, 43, 0.08)",")");return"inset 0 ".concat(i/2,"px ").concat(i/4,"px ").concat(-i/4,"px ").concat(f,", inset 0 ").concat(2*i,"px ").concat(i,"px ").concat(-i,"px ").concat(f,",")+"inset ".concat(l/2,"px 0 ").concat(l/4,"px ").concat(-l/4,"px ").concat(f,", inset ").concat(2*l,"px 0 ").concat(l,"px ").concat(-l,"px ").concat(f,",")+"inset 0 -".concat(u/2,"px ").concat(u/4,"px ").concat(-u/4,"px ").concat(f,", inset 0 -").concat(2*u,"px ").concat(u,"px ").concat(-u,"px ").concat(f,",")+"inset -".concat(s/2,"px 0 ").concat(s/4,"px ").concat(-s/4,"px ").concat(f,", inset -").concat(2*s,"px 0 ").concat(s,"px ").concat(-s,"px ").concat(f)}(e),c(e)}),[c]);return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"scroll-shadow",ref:Se(n,i)}),a.default.cloneElement(o,{onUpdate:l}))}));rt.propTypes={children:r.node},rt.defaultProps={children:null},rt.displayName="Scrollbar.Shadow";var ot=t.memo(rt),ct={style:r.shape({}),onScroll:r.func,onUpdate:r.func,scrollOnDOMChange:r.bool,children:r.node,element:r.node},at={style:null,onScroll:b,onUpdate:b,scrollOnDOMChange:!0,children:null,element:a.default.createElement("div",null)};function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}g(".scrollbar{position:relative;max-height:100%;max-width:100%;display:flex}.scrollbar:hover>.scrollbar-track .scrollbar-thumb .scrollbar-thumb-inner{opacity:1;transition-delay:0s}.scrollbar .scrollbar-inner{position:relative;overflow:auto;flex:1;-ms-overflow-style:none;scrollbar-width:none}.scrollbar .scrollbar-inner::-webkit-scrollbar{width:0;height:0;background:transparent}.scrollbar .scrollbar-track{visibility:hidden;pointer-events:none}.scrollbar .scrollbar-track .scrollbar-thumb{position:absolute;padding:3px;cursor:pointer}.scrollbar .scrollbar-track .scrollbar-thumb .scrollbar-thumb-inner{background-color:rgba(28,34,43,.6);border-radius:4px;opacity:0;transition:opacity .2s ease-out .5s}");var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(c,e);var t,n,r,o=it(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).handleOnScroll=function(e){var n=t.container.current;t.updateScrollbars(),t.props.onScroll(t.event.next),e.target===n&&(n.parentElement.classList.add("scrolling"),clearTimeout(t.timeout),t.timeout=setTimeout((function(){n.parentElement.classList.remove("scrolling")}),500))},t.getEvent=function(){if(!t.container.current)return{};var e=t.container.current,n=e.clientHeight,r=e.clientWidth,o=e.scrollTop,c=e.scrollLeft,a=e.scrollHeight,i=e.scrollWidth,l=Math.ceil(o),u=Math.ceil(c);return{top:De(a,n,l),left:De(i,r,u),scrollTop:l,scrollLeft:u,scrollHeight:a,scrollWidth:i,clientHeight:n,clientWidth:r}},t.updateScrollbars=function(){if(t.event.next=t.getEvent(),!Y(t.event.prev,t.event.next)){var e=t.container.current.parentElement;t.props.onUpdate(t.event.next);var n=t.event.next.clientHeight/t.event.next.scrollHeight,r=t.event.next.clientWidth/t.event.next.scrollWidth;n<1?e.classList.add("vertically-scrollable"):e.classList.remove("vertically-scrollable"),r<1?e.classList.add("horizontally-scrollable"):e.classList.remove("horizontally-scrollable"),e.style.setProperty("--scrollable-vertical-ratio",n),e.style.setProperty("--scrollable-horizontal-ratio",r),e.style.setProperty("--scrollable-scroll-top",t.event.next.top),e.style.setProperty("--scrollable-scroll-left",t.event.next.left)}t.event.prev=t.event.next},t.getElementProps=function(){var e=t.props.element;return{className:i.default("scrollbar-inner",e.props.className),ref:Se(e.ref,t.container),onScroll:t.handleOnScroll}},t.handleOnTransitionEnd=function(e){"height"!==e.propertyName&&"width"!==e.propertyName||t.updateScrollbars()},t.container=a.default.createRef(),t.ctx={container:t.container},t.event={prev:{},next:{}},t}return t=c,(n=[{key:"getSnapshotBeforeUpdate",value:function(){var e=this.container.current;return{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}}},{key:"componentDidMount",value:function(){this.updateScrollbars()}},{key:"componentDidUpdate",value:function(e,t,n){var r=n.scrollTop,o=n.scrollLeft;this.props.scrollOnDOMChange||(this.container.current.scrollTop=r,this.container.current.scrollLeft=o),this.updateScrollbars()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.style,r=e.element,o=Te(t,Qe),c=Te(t,tt),i=a.default.Children.toArray(t).filter((function(e){return![Qe,tt].includes(e.type)}));return a.default.createElement($e,{onResize:this.updateScrollbars},a.default.createElement("div",{className:"scrollbar",style:n,onTransitionEnd:this.handleOnTransitionEnd},a.default.cloneElement(r,this.getElementProps(),i),a.default.createElement(Ge.Provider,{value:this.ctx},o?o.props.children:a.default.createElement(Ke,null),c?c.props.children:a.default.createElement(et,null))))}}])&&Pe(t.prototype,n),r&&Pe(t,r),c}(a.default.PureComponent);lt.propTypes=ct,lt.defaultProps=at,lt.VerticalScrollbar=Qe,lt.VerticalScrollbar.Default=Ke,lt.HorizontalScrollbar=tt,lt.HorizontalScrollbar.Default=et,lt.Context=Ge,lt.Shadow=ot;var ut=a.default.createContext({depth:0,ancestors:""}),st={zIndex:r.number,target:r.instanceOf(qe),parent:r.shape({current:r.instanceOf(qe)}),children:r.node},ft={zIndex:null,target:Fe.body,parent:{},children:null};g(".stackable{position:absolute}");var pt=["zIndex","target","parent","children","style","className"];function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt=t.forwardRef((function(e,n){var r,o=e.zIndex,c=e.target,s=e.parent,f=e.children,p=e.style,b=e.className,v=h(e,pt),m=t.useContext(ut),g=m.depth,y=m.ancestors,O=m.zIndex,w=null!==(r=null!=o?o:O)&&void 0!==r?r:10,x=d(t.useState(""),2),j=x[0],z=x[1],P=i.default("stackable depth-".concat(g),b);return t.useEffect((function(){var e="";if(s.current)for(var t=s.current.parentNode;t&&t.className&&"BODY"!==t.tagName;)e=".".concat(t.className.split(" ").join(".")).concat(e?" "+e:""),t=t.parentNode;z(y+e)}),[z,y,s]),l.default.createPortal(a.default.createElement(ut.Provider,{value:{zIndex:w+1,depth:g+1,ancestors:"".concat(j," .").concat(P.split(" ").join("."))}},a.default.createElement("div",u({},v,{"data-ancestors":j,className:i.default("stackable depth-".concat(g),b),style:ht(ht({},p),{},{zIndex:w}),ref:n}),f)),c)}));bt.displayName="Stackable",bt.propTypes=st,bt.defaultProps=ft;bt.getAncestors=function(e){var t=e.closest(".stackable");return t?t.getAttribute("data-ancestors"):""};var vt={children:r.node,scalex:r.number,scaley:r.number};g(".scalable .scalable-inner{position:absolute;transform-origin:top left}");var mt=["scalex","scaley","className","children"],gt=t.forwardRef((function(e,n){var r=e.scalex,o=e.scaley,c=e.className,l=e.children,s=h(e,mt),f=t.useRef(),p=t.useRef(),d=t.useCallback((function(){var e=f.current,t=e.clientWidth,n=e.clientHeight;p.current.style.width="".concat(t*r,"px"),p.current.style.height="".concat(n*o,"px")}),[r,o]);return t.useEffect((function(){d()}),[d]),a.default.createElement("div",u({},s,{ref:Se(n,p),className:i.default("scalable",c)}),a.default.createElement($e,{onResize:d},a.default.createElement("div",{className:"scalable-inner",style:{transform:"scale(".concat(r,", ").concat(o,")")},ref:f},l)))}));gt.displayName="Scalable",gt.propTypes=vt,gt.defaultProps={children:null,scalex:1,scaley:1};var yt=t.memo(gt),Ot={children:r.node};g(".pannable{height:100%;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.pannable.dragging{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.pannable .movable{width:fit-content;height:fit-content}");var wt=["children","className"],xt=t.forwardRef((function(e,n){var r=e.children,o=e.className,c=h(e,wt),l=t.useRef(),s=t.useRef(),f=t.useMemo((function(){return{top:0,left:0}}),[]),p=t.useCallback((function(){var e=l.current.container.current;e.style.scrollBehavior="auto",f.top=e.scrollTop,f.left=e.scrollLeft,s.current.classList.add("dragging")}),[f]),d=t.useCallback((function(e){var t=e.dx,n=e.dy,r=l.current.container.current,o=f.top,c=f.left;r.scrollTop=o-n,r.scrollLeft=c-t}),[f]),b=t.useCallback((function(){s.current.classList.remove("dragging"),l.current.container.current.style.scrollBehavior=""}),[s]);return a.default.createElement("div",u({},c,{className:i.default("pannable",o),ref:Se(n,s)}),a.default.createElement(lt,{ref:l},a.default.createElement(k,{onMove:d,onBeginMove:p,onEndMove:b},r)))}));xt.displayName="Pannable",xt.propTypes=Ot,xt.defaultProps={children:null};var jt=t.createContext({tbr:{},rbr:{},cbr:{}}),zt=a.default.createContext({global:{}});function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";return function(n){var r=t.forwardRef((function(r,o){var c=t.useContext(zt),i=Rt(Rt({},c[e]||{}),c.global);return a.default.createElement(n,u({ref:o},r,Object.entries(i).reduce((function(e,t){var o=d(t,2),c=o[0],a=o[1];return Rt(Rt({},e),{},s({},c,a(r,n)))}),{})))}));return r.displayName="puppet(".concat(n.name||n.displayName||"",")"),r.WrappedComponent=n,r}},Mt=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.useRef(e),o=t.useRef(-1);r.current=e;var c=t.useCallback((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Ye(o.current),o.current=Xe((function(){r.current.apply(r,t),n&&c.apply(void 0,t)}))}),[n]),a=t.useCallback((function(){Ye(o.current)}),[]);return t.useEffect((function(){return function(){return Ye(o.current)}}),[]),{start:c,stop:a}},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.useState(e),r=d(n,2),o=r[0],c=r[1],a=t.useCallback((function(){return c(!0)}),[c]),i=t.useCallback((function(){return c(!1)}),[c]),l=t.useCallback((function(){return c(!o)}),[c,o]);return{value:o,setTrue:a,setFalse:i,toggle:l,setValue:c}},Ct=function(e){return e.map((function(e){return e.current?e.current.getBoundingClientRect():e instanceof qe?e.getBoundingClientRect():e instanceof Ve?e:"window"===H(e)?new Ve(0,0,window.innerWidth,window.innerHeight):void 0}))},St=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var c=t.useRef([]);return Mt((function(){var t=Ct(r);t.every((function(e){return void 0!==e}))&&t.some((function(e,t){return!Ne(e,c.current[t]||{})}))&&(e.apply(void 0,Ce(t)),c.current=t)}),!0)};function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=t.useRef({});t.useEffect((function(){c.current={handler:n,options:o}}),[n,o]),t.useEffect((function(){var t,n=function(e){return c.current.handler(e)},o=Dt({},c.current.options),a=r.current;return null==a||null===(t=a.addEventListener)||void 0===t||t.call(a,e,n,o),function(){var t;return null==a||null===(t=a.removeEventListener)||void 0===t?void 0:t.call(a,e,n,o)}}),[e,r])},Nt=a.default.createContext((function(e){return!e})),_t=function(e){var n=t.useRef(!1),r=t.useContext(Nt);return Bt("mousedown",(function(e){n.current=!r(n.current,e)}),{current:Fe}),Bt("mouseup",(function(t){n.current?n.current=!1:e(t)}),{current:Fe}),t.useCallback((function(){n.current=!0}),[n])},Lt=function(e){var t=e.condition,n=e.children;return a.default.createElement(Nt.Provider,{value:t},n)};Lt.propTypes={condition:r.func,children:r.node};var At=function(e){var n=t.useRef(e);return Y(n.current,e)||(n.current=e),n.current},Ht=function e(t,n,r,o,c){clearTimeout(n.current),n.current=setTimeout((function(){r.apply(void 0,Ce(t)),c&&e(t,n,r,o,c)}),o)},Wt=function(e){clearTimeout(e.current)},It=Object.freeze({__proto__:null,useAnimationFrame:Mt,useBooleanState:kt,useVisibilityState:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=kt(e),n=t.value,r=t.setTrue,o=t.setFalse,c=t.toggle,a=t.setValue;return{visible:n,show:r,hide:o,toggle:c,setVisible:a}},useFocusabilityState:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=kt(e),n=t.value,r=t.setTrue,o=t.setFalse,c=t.toggle,a=t.setValue;return{focused:n,focus:r,blur:o,toggle:c,setFocused:a}},useBoundingRectObserver:St,useClickOutside:_t,ClickOutside:function(e){var t=e.children,n=e.onClickOutside,r=_t(n);return a.default.cloneElement(a.default.Children.only(t),{onMouseDownCapture:r})},ClickOutsideOverride:Lt,useMounted:function(){var e=t.useRef(!1);return t.useEffect((function(){return e.current=!0,function(){return e.current=!1}}),[]),e.current},useUnmounted:function(){var e=t.useRef(!1);return t.useEffect((function(){return function(){e.current=!0}}),[]),e.current},useDebounce:function(e,n){var r=t.useRef(-1),o=t.useRef(e);return t.useEffect((function(){o.current=e}),[e]),t.useEffect((function(){return function(){return clearTimeout(r.current)}}),[]),t.useCallback((function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];clearTimeout(r.current),r.current=setTimeout((function(){o.current.apply(o,t)}),n)}),[n])},useDimensions:function(e){var n=d(t.useState({width:0,height:0}),2),r=n[0],o=n[1],c=t.useRef(new Ue((function(e){o(He(e[0]))})));return t.useEffect((function(){var t=c.current;return t.observe(e.current),function(){return t.disconnect()}}),[e]),r},useEventListener:Bt,useThrottle:function(e,n){var r=t.useRef(!1),o=t.useRef(-1);return t.useEffect((function(){return function(){return clearTimeout(o.current)}}),[]),t.useCallback((function(){r.current||(e.apply(void 0,arguments),r.current=!0,clearTimeout(o.current),o.current=setTimeout((function(){r.current=!1}),n))}),[e,n])},useObject:At,usePrevious:function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},useTimeout:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.useRef();return{start:t.useCallback((function(){for(var t=arguments.length,c=new Array(t),a=0;a<t;a++)c[a]=arguments[a];return Ht(c,o,e,n,r)}),[o,e,n,r]),stop:t.useCallback((function(){return Wt(o)}),[o])}}}),Ft={puppeteer:{children:r.node,props:r.shape({}),namespace:r.string},break:{children:r.node,props:r.arrayOf(r.string),namespace:r.string}},Ut={children:null,props:{},namespace:"global"},Vt={children:null,props:null,namespace:"global"};function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yt=function(e){var n=e.children,r=e.props,o=e.namespace,c=t.useContext(zt),i=c[o]||{},l=Xt(Xt({},i),r);return Object.keys(i).forEach((function(e){Object.prototype.hasOwnProperty.call(r,e)&&(l[e]=function(t,n){return r[e](Xt(Xt({},t),{},s({},e,i[e](t,n))),n)})})),a.default.createElement(zt.Provider,{value:At(Xt(Xt({},c),{},s({},o,l)))},n)};Yt.propTypes=Ft.puppeteer,Yt.defaultProps=Ut,(Yt.Break=function(e){var n=e.children,r=e.props,o=e.namespace,c=t.useContext(zt),i=c[o]||{};return a.default.createElement(zt.Provider,{value:Xt(Xt({},c),{},s({},o,r?G.apply(void 0,[i].concat(Ce(r))):{}))},n)}).propTypes=Ft.break,Yt.Break.defaultProps=Vt,Yt.Break.displayName="Puppeteer.Break";var $t=function(e,t){return(n=e,r=t,o=Be(n),c=Be(r),a=o[0]-c[0],i=o[1]-c[1],[a?a/Math.abs(a):a,i?i/Math.abs(i):i]).reduce((function(e,t,n){return e+(e.length?" ":"")+[["west","","east"],["north","","south"]][n][t+1]}),"");var n,r,o,c,a,i},Gt={top:0,left:0,name:"hidden"},Jt=function(e){var t=e.tbr,n=e.cbr,r=e.rbr;return _e(r,n)?t:Gt},Kt=function(e,t){return Math.abs(e.left-t.left)+Math.abs(e.top-t.top)},Qt=function(e,t){var n=e.tbr,r=e.cbr,o=e.rbr,c=t.placements,a=t.default,i=c(o,n),l=i[a],u=function(e,t,n,r){return e.sort((function(e,o){return Ae(Le(new DOMRect(o.left,o.top,n.width,n.height),r))-Ae(Le(new DOMRect(e.left,e.top,n.width,n.height),r))||Kt(e,t)-Kt(o,t)}))}(function(e,t,n){return e.filter((function(e){return _e(new DOMRect(e.left,e.top,t.width,t.height),n)}))}(i,n,r),l,n,r)[0]||l,s=u.top,f=u.left;return new DOMRect(f,s,n.width,n.height)};function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn={container:r.oneOfType([r.func,r.shape({current:r.oneOfType([r.instanceOf(qe),r.instanceOf(Ie.constructor)])})]),reference:r.oneOfType([r.func,r.instanceOf(Ve),r.shape({current:r.instanceOf(qe)})]),placements:r.func,placement:r.shape({top:r.number,left:r.number}),overflow:r.func,onPlacement:r.func,default:r.number,children:r.node},nn={container:Ie,reference:Fe.body,placements:function(){return[{top:0,left:0}]},placement:Gt,overflow:function(e,t){return Gt!==Jt(e)&&Gt!==Jt(en(en({},e),{},{cbr:e.wbr}))?(n=en(en({},e),{},{cbr:e.wbr,tbr:Qt(e,t)}),r=n.tbr,o=n.cbr,new DOMRect(Math.round(C(r.left,o.left,o.right-r.width)),Math.round(C(r.top,o.top,o.bottom-r.height)),r.width,r.height)):Gt;var n,r,o},onPlacement:b,default:0,children:null};g(".poppable.placement-hidden{opacity:0;pointer-events:none}");var rn=["children","container","reference","placements","default","onPlacement","placement","overflow","className","style"];function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var an=t.forwardRef((function(e,n){var r,o,c=e.children,l=e.container,f=e.reference,p=e.placements,b=e.default,v=e.onPlacement,m=e.placement,g=e.overflow,y=e.className,O=e.style,w=h(e,rn),x=t.useRef(),j=t.useCallback((function(e){return e.stopPropagation()}),[]),z=function(e,t,n,r){var o=d(Ct([t,e,n]),3),c=o[0],a=o[1],i=o[2];return{rbr:c||new Ve,cbr:i||new Ve,tbr:new Ve(r.left,r.top,null==a?void 0:a.width,null==a?void 0:a.height)}}(x,f,l,m);return function(e){var t=e.target,n=e.container,r=e.reference,o=e.placements,c=e.default,a=e.onPlacement,i=e.strategy;(0,St((function(e,t,n,r){var l=i({tbr:t,cbr:n,rbr:e,wbr:r},{default:c,placements:o}),u=l.top,s=l.left,f=l.name;t&&u===t.top&&s===t.left||a({top:u,left:s,name:f})}),r,t,n,Ie).start)()}({target:x,container:l,reference:f,placements:p,default:b,onPlacement:v,strategy:g}),a.default.createElement(Yt.Break,{namespace:"poppable"},a.default.createElement(bt,u({},w,{className:i.default("poppable",s({},"placement-".concat(m.name),m.name),y,(r=z.tbr,o=z.rbr,i.default($t(r,o),{vbefore:r.bottom<o.top,vafter:o.bottom<r.top,hbefore:r.right<o.left,hafter:o.right<r.left}))),style:cn(cn({},O),m),ref:Se(n,x),parent:f,onContextMenu:j}),a.default.createElement(jt.Provider,{value:z},c)))}));an.propTypes=tn,an.defaultProps=nn,an.displayName="Poppable.Manual";var ln=t.memo(Et("poppable")(an)),un=t.forwardRef((function(e,n){var r=d(t.useState(),2),o=r[0],c=r[1];return a.default.createElement(ln,u({},e,{placement:o,onPlacement:c,ref:n}))}));un.displayName="Poppable",un.propTypes=tn,un.defaultProps=nn;var sn=t.memo(un),fn={start:"top",size:"height",end:"bottom"},pn={start:"left",size:"width",end:"right"},dn=function(e,t,n){var r=n.start,o=n.size,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return s({},r,e[r]-t[o]+c)},hn=function(e,t,n){var r=n.start,o=n.size,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return s({},r,e[r]+(e[o]-t[o])/2+c)},bn=function(e,t,n){var r=n.start,o=n.end,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return s({},r,e[o]+c)},vn=Object.freeze({__proto__:null,vbefore:function(e,t,n){return dn(e,t,fn,n)},vcenter:function(e,t,n){return hn(e,t,fn,n)},vafter:function(e,t,n){return bn(e,t,fn,n)},hbefore:function(e,t,n){return dn(e,t,pn,n)},hcenter:function(e,t,n){return hn(e,t,pn,n)},hafter:function(e,t,n){return bn(e,t,pn,n)}}),mn=function(e,t){return e[0]>t[1]||e[1]<t[0]?[]:[Math.max(e[0],t[0]),Math.min(e[1],t[1])]},gn=function(e){var t=d(e,2);return(t[0]+t[1])/2},yn=function(e,t,n){var r=mn([e.top,e.bottom],[t.top,t.bottom]);return 0===r.length?e.top>t.bottom?e.top-2*n:e.bottom:gn(r)-n},On=function(e,t,n){var r=mn([e.left,e.right],[t.left,t.right]);return 0===r.length?e.left>t.right?e.left-2*n:e.right:gn(r)-n};g(".poppable.vafter .poppable-triangle{border-bottom-color:var(--triangle-color,#000)}.poppable.vbefore .poppable-triangle{border-top-color:var(--triangle-color,#000)}.poppable.hbefore .poppable-triangle{border-left-color:var(--triangle-color,#000)}.poppable.hafter .poppable-triangle{border-right-color:var(--triangle-color,#000)}.poppable .poppable-triangle{position:fixed;border-style:solid;border-color:transparent;pointer-events:none}");var wn=function(e){var n=e.size,r=t.useContext(jt),o=r.tbr,c=r.rbr;return function(e,t){return void 0!==e.top&&void 0!==t.top}(o,c)?a.default.createElement("div",{className:"poppable-triangle",style:{top:yn(o,c,n),left:On(o,c,n),borderWidth:n}}):null};wn.propTypes={size:r.number},wn.defaultProps={size:0},sn.Context=jt,sn.Manual=ln,sn.Placements=vn,sn.Triangle=wn;var xn=Object.freeze({__proto__:null,Collapsible:x,Movable:k,Resizable:ce,Scrollable:lt,Stackable:bt,Scalable:yt,Pannable:xt,Poppable:sn}),jn=Object.freeze({__proto__:null,ResizeObserver:$e,Puppeteer:Yt,puppet:Et});e.components=xn,e.hooks=It,e.tools=jn,Object.defineProperty(e,"__esModule",{value:!0})}));
