{"ast":null,"code":"var _jsxFileName = \"/Users/alysurr/Documents/Capstone/drawllab/src/pages/CanvasPage/CanvasPage.jsx\",\n    _s = $RefreshSig$();\n\nimport './CanvasPage.scss';\nimport React, { useLayoutEffect, useState } from 'react';\nimport rough from 'roughjs/bundled/rough.esm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst generator = rough.generator();\n\nfunction createElement(x1, y1, x2, y2, type) {\n  const roughElement = type === \"line\" ? generator.line(x1, y1, x2, y2) : generator.rectangle(x1, y1, x2 - x1, y2 - y1); // generator.circle(80, 120, 50);;\n\n  return {\n    x1,\n    y1,\n    x2,\n    y2,\n    roughElement\n  };\n}\n\nconst CanvasPage = () => {\n  _s();\n\n  const [elements, setElements] = useState([]);\n  const [action, setAction] = useState(\"none\");\n  const [tool, setTool] = useState(\"line\");\n  useLayoutEffect(() => {\n    const canvas = document.getElementById(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    const roughCanvas = rough.canvas(canvas);\n    elements.forEach(({\n      roughElement\n    }) => roughCanvas.draw(roughElement));\n  }, [elements]);\n\n  const handleMouseDown = e => {\n    if (tool === \"selection\") {\n      const element = getElementAtPosition;\n    } else {\n      const {\n        clientX,\n        clientY\n      } = e;\n      const element = createElement(clientX, clientY, clientX, clientY, tool);\n      setElements(prevState => [...prevState, element]);\n      setAction(\"drawing\");\n    }\n  };\n\n  const handleMouseMove = e => {\n    if (action === \"drawing\") {\n      const {\n        clientX,\n        clientY\n      } = e;\n      const index = elements.length - 1;\n      const {\n        x1,\n        y1\n      } = elements[index];\n      const updatedElement = createElement(x1, y1, clientX, clientY, tool);\n      const elementsCopy = [...elements];\n      elementsCopy[index] = updatedElement;\n      setElements(elementsCopy);\n    }\n  };\n\n  const handleMouseUp = () => {\n    setAction(\"none\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        id: \"line\",\n        checked: tool === \"line\",\n        onChange: () => setTool(\"line\"),\n        className: \"tool\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"line\",\n        className: \"tool__label\",\n        children: \"Line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        id: \"rectangle\",\n        checked: tool === \"rectangle\",\n        onChange: () => setTool(\"rectangle\"),\n        className: \"tool\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"rectangle\",\n        className: \"tool__label\",\n        children: \"Rectangle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        id: \"select\",\n        checked: tool === \"select\",\n        onChange: () => setTool(\"select\"),\n        className: \"tool\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"select\",\n        className: \"tool__label\",\n        children: \"Select\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"canvas\",\n      width: window.innerWidth,\n      height: window.innerHeight,\n      onMouseDown: handleMouseDown,\n      onMouseMove: handleMouseMove,\n      onMouseUp: handleMouseUp,\n      children: \"Canvas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CanvasPage, \"qsU4JgnhKwsPzU83Jf8Vnzg2BgQ=\");\n\n_c = CanvasPage;\nexport default CanvasPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CanvasPage\");","map":{"version":3,"sources":["/Users/alysurr/Documents/Capstone/drawllab/src/pages/CanvasPage/CanvasPage.jsx"],"names":["React","useLayoutEffect","useState","rough","generator","createElement","x1","y1","x2","y2","type","roughElement","line","rectangle","CanvasPage","elements","setElements","action","setAction","tool","setTool","canvas","document","getElementById","context","getContext","clearRect","width","height","roughCanvas","forEach","draw","handleMouseDown","e","element","getElementAtPosition","clientX","clientY","prevState","handleMouseMove","index","length","updatedElement","elementsCopy","handleMouseUp","window","innerWidth","innerHeight"],"mappings":"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","sourcesContent":["import './CanvasPage.scss';\nimport React, { useLayoutEffect, useState } from 'react';\nimport rough from 'roughjs/bundled/rough.esm';\n\nconst generator = rough.generator();\n\nfunction createElement(x1, y1, x2, y2, type) {\n\tconst roughElement =\n\t\ttype === \"line\"\n\t\t\t? generator.line(x1, y1, x2, y2)\n\t\t\t: generator.rectangle(x1, y1, x2 - x1, y2 - y1);\n\t\t// generator.circle(80, 120, 50);;\n  return {x1, y1, x2, y2, roughElement};\n}\n\nconst CanvasPage = () => {\n\n  const [elements, setElements] = useState([]);\n\tconst [action, setAction] = useState(\"none\");\n\tconst [tool, setTool] = useState(\"line\")\n\n  useLayoutEffect(() => {\n    const canvas = document.getElementById(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    context.clearRect(0, 0, canvas.width, canvas.height);\n\n    const roughCanvas = rough.canvas(canvas);\n\n    elements.forEach(({roughElement}) => roughCanvas.draw(roughElement));\n  }, [elements]);\n  \n  const handleMouseDown = (e) => {\n\t\tif (tool === \"selection\") {\n\t\t\tconst element = getElementAtPosition\n\t\t} else {\n\t\t\t\t\t\n    const { clientX, clientY } = e;\n\n    const element = createElement(clientX, clientY, clientX, clientY, tool);\n\t\tsetElements((prevState) => [...prevState, element]);\n\t\t\t\n\t\tsetAction(\"drawing\");\n\n\t\t}\n  };\n  \n  const handleMouseMove = (e) => {\n\t\tif (action === \"drawing\") {\n\t\t\tconst { clientX, clientY } = e;\n\t\t\tconst index = elements.length - 1;\n\t\t\tconst { x1, y1 } = elements[index];\n\t\t\tconst updatedElement = createElement(x1, y1, clientX, clientY, tool);\n\n\t\t\tconst elementsCopy = [...elements];\n\t\t\telementsCopy[index] = updatedElement;\n\t\t\tsetElements(elementsCopy);\n\t\t}\n  };\n  \n  const handleMouseUp = () => {\n    setAction(\"none\");\n  };\n\n  return (\n\t\t<>\n\t\t\t{/* Toolbar Component */}\n\t\t\t<div className=\"toolbar\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tid=\"line\"\n\t\t\t\t\tchecked={tool === \"line\"}\n\t\t\t\t\tonChange={() => setTool(\"line\")}\n\t\t\t\t\tclassName=\"tool\"\n\t\t\t\t/>\n\t\t\t\t<label\n\t\t\t\t\thtmlFor=\"line\"\n\t\t\t\t\tclassName=\"tool__label\"\n\t\t\t\t>\n\t\t\t\t\tLine\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tid=\"rectangle\"\n\t\t\t\t\tchecked={tool === \"rectangle\"}\n\t\t\t\t\tonChange={() => setTool(\"rectangle\")}\n\t\t\t\t\tclassName=\"tool\"\n\t\t\t\t/>\n\t\t\t\t<label\n\t\t\t\t\thtmlFor=\"rectangle\"\n\t\t\t\t\tclassName=\"tool__label\"\n\t\t\t\t>\n\t\t\t\t\tRectangle\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tid=\"select\"\n\t\t\t\t\tchecked={tool === \"select\"}\n\t\t\t\t\tonChange={() => setTool(\"select\")}\n\t\t\t\t\tclassName=\"tool\"\n\t\t\t\t/>\n\t\t\t\t<label\n\t\t\t\t\thtmlFor=\"select\"\n\t\t\t\t\tclassName=\"tool__label\"\n\t\t\t\t>\n\t\t\t\t\tSelect\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t{/* Canvas Component */}\n      <canvas\n        id=\"canvas\"\n        width={window.innerWidth}\n        height={window.innerHeight}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n      >\n        Canvas\n      </canvas>\n    </>\n  )\n}\n\nexport default CanvasPage;\n"]},"metadata":{},"sourceType":"module"}