{"ast":null,"code":"function Y(e, t, u, S = g => g) {\n  return e * S(.5 - t * (.5 - u));\n}\n\nfunction p(e, t) {\n  return [e[0] + t[0], e[1] + t[1]];\n}\n\nfunction m(e, t) {\n  return [e[0] - t[0], e[1] - t[1]];\n}\n\nfunction f(e, t) {\n  return [e[0] * t, e[1] * t];\n}\n\nfunction fe(e, t) {\n  return [e[0] / t, e[1] / t];\n}\n\nfunction I(e) {\n  return [e[1], -e[0]];\n}\n\nfunction re(e, t) {\n  return e[0] * t[0] + e[1] * t[1];\n}\n\nfunction oe(e, t) {\n  return e[0] === t[0] && e[1] === t[1];\n}\n\nfunction be(e) {\n  return Math.hypot(e[0], e[1]);\n}\n\nfunction ge(e) {\n  return e[0] * e[0] + e[1] * e[1];\n}\n\nfunction Z(e, t) {\n  return ge(m(e, t));\n}\n\nfunction K(e) {\n  return fe(e, be(e));\n}\n\nfunction se(e, t) {\n  return Math.hypot(e[1] - t[1], e[0] - t[0]);\n}\n\nfunction ue(e, t) {\n  return f(p(e, t), .5);\n}\n\nfunction V(e, t, u) {\n  let S = Math.sin(u),\n      g = Math.cos(u),\n      y = e[0] - t[0],\n      o = e[1] - t[1],\n      x = y * g - o * S,\n      L = y * S + o * g;\n  return [x + t[0], L + t[1]];\n}\n\nfunction N(e, t, u) {\n  return p(e, f(m(t, e), u));\n}\n\nfunction $(e, t, u) {\n  return p(e, f(t, u));\n}\n\nvar {\n  min: _,\n  PI: de\n} = Math,\n    ie = .275,\n    j = de + 1e-4;\n\nfunction pe(e, t = {}) {\n  let {\n    size: u = 16,\n    smoothing: S = .5,\n    thinning: g = .5,\n    simulatePressure: y = !0,\n    easing: o = n => n,\n    start: x = {},\n    end: L = {},\n    last: q = !1\n  } = t,\n      {\n    cap: k = !0,\n    taper: P = 0,\n    easing: C = n => n * (2 - n)\n  } = x,\n      {\n    cap: b = !0,\n    taper: a = 0,\n    easing: T = n => --n * n * n + 1\n  } = L;\n  if (e.length === 0 || u <= 0) return [];\n  let U = e[e.length - 1].runningLength,\n      B = Math.pow(u * S, 2),\n      O = [],\n      v = [],\n      X = e.slice(0, 10).reduce((n, i) => {\n    let r = i.pressure;\n\n    if (y) {\n      let s = _(1, i.distance / u),\n          l = _(1, 1 - s);\n\n      r = _(1, n + (l - n) * (s * ie));\n    }\n\n    return (n + r) / 2;\n  }, e[0].pressure),\n      c = Y(u, g, e[e.length - 1].pressure, o),\n      J,\n      A = e[0].vector,\n      z = e[0].point,\n      F = z,\n      E = z,\n      M = F;\n\n  for (let n = 0; n < e.length - 1; n++) {\n    let {\n      pressure: i\n    } = e[n],\n        {\n      point: r,\n      vector: s,\n      distance: l,\n      runningLength: R\n    } = e[n];\n    if (U - R < 3) continue;\n\n    if (g) {\n      if (y) {\n        let D = _(1, l / u),\n            W = _(1, 1 - D);\n\n        i = _(1, X + (W - X) * (D * ie));\n      }\n\n      c = Y(u, g, i, o);\n    } else c = u / 2;\n\n    J === void 0 && (J = c);\n    let ae = R < P ? C(R / P) : 1,\n        le = U - R < a ? T((U - R) / a) : 1;\n    c = Math.max(.01, c * Math.min(ae, le));\n    let ee = e[n + 1].vector,\n        te = re(s, ee);\n\n    if (te < 0) {\n      let D = f(I(A), c);\n\n      for (let W = 1 / 13, H = 0; H <= 1; H += W) E = V(m(r, D), r, j * H), O.push(E), M = V(p(r, D), r, j * -H), v.push(M);\n\n      z = E, F = M;\n      continue;\n    }\n\n    let ne = f(I(N(ee, s, te)), c);\n    E = m(r, ne), (n === 0 || Z(z, E) > B) && (O.push(E), z = E), M = p(r, ne), (n === 0 || Z(F, M) > B) && (v.push(M), F = M), X = i, A = s;\n  }\n\n  let d = e[0].point.slice(0, 2),\n      h = e.length > 1 ? e[e.length - 1].point.slice(0, 2) : p(e[0].point, [1, 1]),\n      Q = O.length <= 1 || v.length <= 1,\n      w = [],\n      G = [];\n\n  if (Q) {\n    if (!(P || a) || q) {\n      let n = $(d, K(I(m(d, h))), -(J || c)),\n          i = [];\n\n      for (let r = 1 / 13, s = r; s <= 1; s += r) i.push(V(n, d, j * 2 * s));\n\n      return i;\n    }\n  } else {\n    if (P || a && Q) w.push(d, p(d, [.1, 0]));else if (k) for (let r = 1 / 13, s = r; s <= 1; s += r) {\n      let l = V(v[0], d, j * s);\n      w.push(l);\n    } else {\n      let r = m(O[0], v[0]),\n          s = f(r, .5),\n          l = f(r, .51);\n      w.push(m(d, s), m(d, l), p(d, l), p(d, s));\n    }\n    let n = ue(O[O.length - 1], v[v.length - 1]),\n        i = I(K(m(h, n)));\n    if (a || P && Q) G.push(h, p(h, [1, 0]));else if (b) {\n      let r = $(h, i, c);\n\n      for (let s = 1 / 29, l = 0; l <= 1; l += s) {\n        let R = V(r, h, j * 3 * l);\n        G.push(R);\n      }\n    } else G.push(p(h, f(i, c)), p(h, f(i, c * .99)), m(h, f(i, c * .99)), m(h, f(i, c)));\n  }\n\n  return O.concat(G, v.reverse(), w);\n}\n\nfunction me(e, t = {}) {\n  var C;\n  let {\n    streamline: u = .5,\n    size: S = 16,\n    last: g = !1\n  } = t;\n  if (e.length === 0) return [];\n  let y = .15 + (1 - u) * .85,\n      o = Array.isArray(e[0]) ? e : e.map(({\n    x: b,\n    y: a,\n    pressure: T = .5\n  }) => [b, a, T]);\n  o.length === 1 && (o = [...o, [...p(o[0], [1, 1]), ...o[0].slice(2)]]);\n  let x = [{\n    point: [o[0][0], o[0][1]],\n    pressure: o[0][2] || .25,\n    vector: [1, 1],\n    distance: 0,\n    runningLength: 0\n  }],\n      L = !1,\n      q = 0,\n      k = x[0],\n      P = o.length - 1;\n\n  for (let b = 1; b < o.length; b++) {\n    let a = g && b === P ? o[b] : N(k.point, o[b], y);\n    if (oe(k.point, a)) continue;\n    let T = se(a, k.point);\n\n    if (q += T, b < P && !L) {\n      if (q < S) continue;\n      L = !0;\n    }\n\n    k = {\n      point: a,\n      pressure: o[b][2] || .5,\n      vector: K(m(k.point, a)),\n      distance: T,\n      runningLength: q\n    }, x.push(k);\n  }\n\n  return x[0].vector = ((C = x[1]) == null ? void 0 : C.vector) || [0, 0], x;\n}\n\nfunction ce(e, t = {}) {\n  return pe(me(e, t), t);\n}\n\nvar qe = ce;\nexport { qe as default, ce as getStroke, pe as getStrokeOutlinePoints, me as getStrokePoints };","map":{"version":3,"sources":["/Users/alysurr/Documents/Capstone/drawllab/node_modules/perfect-freehand/dist/esm/index.js"],"names":["Y","e","t","u","S","g","p","m","f","fe","I","re","oe","be","Math","hypot","ge","Z","K","se","ue","V","sin","cos","y","o","x","L","N","$","min","_","PI","de","ie","j","pe","size","smoothing","thinning","simulatePressure","easing","n","start","end","last","q","cap","k","taper","P","C","b","a","T","length","U","runningLength","B","pow","O","v","X","slice","reduce","i","r","pressure","s","distance","l","c","J","A","vector","z","point","F","E","M","R","D","W","ae","le","max","ee","te","H","push","ne","d","h","Q","w","G","concat","reverse","me","streamline","Array","isArray","map","ce","qe","default","getStroke","getStrokeOutlinePoints","getStrokePoints"],"mappings":"AAAA,SAASA,CAAT,CAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiBC,CAAC,GAACC,CAAC,IAAEA,CAAtB,EAAwB;AAAC,SAAOJ,CAAC,GAACG,CAAC,CAAC,KAAGF,CAAC,IAAE,KAAGC,CAAL,CAAL,CAAV;AAAwB;;AAAA,SAASG,CAAT,CAAWL,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAM,CAACD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAAP,EAAWD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAAjB,CAAN;AAA4B;;AAAA,SAASK,CAAT,CAAWN,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAM,CAACD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAAP,EAAWD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAAjB,CAAN;AAA4B;;AAAA,SAASM,CAAT,CAAWP,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAM,CAACD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAN,EAAQD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAb,CAAN;AAAsB;;AAAA,SAASO,EAAT,CAAYR,CAAZ,EAAcC,CAAd,EAAgB;AAAC,SAAM,CAACD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAN,EAAQD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAb,CAAN;AAAsB;;AAAA,SAASQ,CAAT,CAAWT,CAAX,EAAa;AAAC,SAAM,CAACA,CAAC,CAAC,CAAD,CAAF,EAAM,CAACA,CAAC,CAAC,CAAD,CAAR,CAAN;AAAmB;;AAAA,SAASU,EAAT,CAAYV,CAAZ,EAAcC,CAAd,EAAgB;AAAC,SAAOD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAAN,GAAUD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAAvB;AAA2B;;AAAA,SAASU,EAAT,CAAYX,CAAZ,EAAcC,CAAd,EAAgB;AAAC,SAAOD,CAAC,CAAC,CAAD,CAAD,KAAOC,CAAC,CAAC,CAAD,CAAR,IAAaD,CAAC,CAAC,CAAD,CAAD,KAAOC,CAAC,CAAC,CAAD,CAA5B;AAAgC;;AAAA,SAASW,EAAT,CAAYZ,CAAZ,EAAc;AAAC,SAAOa,IAAI,CAACC,KAAL,CAAWd,CAAC,CAAC,CAAD,CAAZ,EAAgBA,CAAC,CAAC,CAAD,CAAjB,CAAP;AAA6B;;AAAA,SAASe,EAAT,CAAYf,CAAZ,EAAc;AAAC,SAAOA,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAN,GAAUA,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAvB;AAA2B;;AAAA,SAASgB,CAAT,CAAWhB,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAOc,EAAE,CAACT,CAAC,CAACN,CAAD,EAAGC,CAAH,CAAF,CAAT;AAAkB;;AAAA,SAASgB,CAAT,CAAWjB,CAAX,EAAa;AAAC,SAAOQ,EAAE,CAACR,CAAD,EAAGY,EAAE,CAACZ,CAAD,CAAL,CAAT;AAAmB;;AAAA,SAASkB,EAAT,CAAYlB,CAAZ,EAAcC,CAAd,EAAgB;AAAC,SAAOY,IAAI,CAACC,KAAL,CAAWd,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAAjB,EAAqBD,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAA3B,CAAP;AAAuC;;AAAA,SAASkB,EAAT,CAAYnB,CAAZ,EAAcC,CAAd,EAAgB;AAAC,SAAOM,CAAC,CAACF,CAAC,CAACL,CAAD,EAAGC,CAAH,CAAF,EAAQ,EAAR,CAAR;AAAoB;;AAAA,SAASmB,CAAT,CAAWpB,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,MAAIC,CAAC,GAACU,IAAI,CAACQ,GAAL,CAASnB,CAAT,CAAN;AAAA,MAAkBE,CAAC,GAACS,IAAI,CAACS,GAAL,CAASpB,CAAT,CAApB;AAAA,MAAgCqB,CAAC,GAACvB,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAAxC;AAAA,MAA4CuB,CAAC,GAACxB,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAApD;AAAA,MAAwDwB,CAAC,GAACF,CAAC,GAACnB,CAAF,GAAIoB,CAAC,GAACrB,CAAhE;AAAA,MAAkEuB,CAAC,GAACH,CAAC,GAACpB,CAAF,GAAIqB,CAAC,GAACpB,CAA1E;AAA4E,SAAM,CAACqB,CAAC,GAACxB,CAAC,CAAC,CAAD,CAAJ,EAAQyB,CAAC,GAACzB,CAAC,CAAC,CAAD,CAAX,CAAN;AAAsB;;AAAA,SAAS0B,CAAT,CAAW3B,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,SAAOG,CAAC,CAACL,CAAD,EAAGO,CAAC,CAACD,CAAC,CAACL,CAAD,EAAGD,CAAH,CAAF,EAAQE,CAAR,CAAJ,CAAR;AAAwB;;AAAA,SAAS0B,CAAT,CAAW5B,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,SAAOG,CAAC,CAACL,CAAD,EAAGO,CAAC,CAACN,CAAD,EAAGC,CAAH,CAAJ,CAAR;AAAmB;;AAAA,IAAG;AAAC2B,EAAAA,GAAG,EAACC,CAAL;AAAOC,EAAAA,EAAE,EAACC;AAAV,IAAcnB,IAAjB;AAAA,IAAsBoB,EAAE,GAAC,IAAzB;AAAA,IAA8BC,CAAC,GAACF,EAAE,GAAC,IAAnC;;AAAwC,SAASG,EAAT,CAAYnC,CAAZ,EAAcC,CAAC,GAAC,EAAhB,EAAmB;AAAC,MAAG;AAACmC,IAAAA,IAAI,EAAClC,CAAC,GAAC,EAAR;AAAWmC,IAAAA,SAAS,EAAClC,CAAC,GAAC,EAAvB;AAA0BmC,IAAAA,QAAQ,EAAClC,CAAC,GAAC,EAArC;AAAwCmC,IAAAA,gBAAgB,EAAChB,CAAC,GAAC,CAAC,CAA5D;AAA8DiB,IAAAA,MAAM,EAAChB,CAAC,GAACiB,CAAC,IAAEA,CAA1E;AAA4EC,IAAAA,KAAK,EAACjB,CAAC,GAAC,EAApF;AAAuFkB,IAAAA,GAAG,EAACjB,CAAC,GAAC,EAA7F;AAAgGkB,IAAAA,IAAI,EAACC,CAAC,GAAC,CAAC;AAAxG,MAA2G5C,CAA9G;AAAA,MAAgH;AAAC6C,IAAAA,GAAG,EAACC,CAAC,GAAC,CAAC,CAAR;AAAUC,IAAAA,KAAK,EAACC,CAAC,GAAC,CAAlB;AAAoBT,IAAAA,MAAM,EAACU,CAAC,GAACT,CAAC,IAAEA,CAAC,IAAE,IAAEA,CAAJ;AAAjC,MAAyChB,CAAzJ;AAAA,MAA2J;AAACqB,IAAAA,GAAG,EAACK,CAAC,GAAC,CAAC,CAAR;AAAUH,IAAAA,KAAK,EAACI,CAAC,GAAC,CAAlB;AAAoBZ,IAAAA,MAAM,EAACa,CAAC,GAACZ,CAAC,IAAE,EAAEA,CAAF,GAAIA,CAAJ,GAAMA,CAAN,GAAQ;AAAxC,MAA2Cf,CAAtM;AAAwM,MAAG1B,CAAC,CAACsD,MAAF,KAAW,CAAX,IAAcpD,CAAC,IAAE,CAApB,EAAsB,OAAM,EAAN;AAAS,MAAIqD,CAAC,GAACvD,CAAC,CAACA,CAAC,CAACsD,MAAF,GAAS,CAAV,CAAD,CAAcE,aAApB;AAAA,MAAkCC,CAAC,GAAC5C,IAAI,CAAC6C,GAAL,CAASxD,CAAC,GAACC,CAAX,EAAa,CAAb,CAApC;AAAA,MAAoDwD,CAAC,GAAC,EAAtD;AAAA,MAAyDC,CAAC,GAAC,EAA3D;AAAA,MAA8DC,CAAC,GAAC7D,CAAC,CAAC8D,KAAF,CAAQ,CAAR,EAAU,EAAV,EAAcC,MAAd,CAAqB,CAACtB,CAAD,EAAGuB,CAAH,KAAO;AAAC,QAAIC,CAAC,GAACD,CAAC,CAACE,QAAR;;AAAiB,QAAG3C,CAAH,EAAK;AAAC,UAAI4C,CAAC,GAACrC,CAAC,CAAC,CAAD,EAAGkC,CAAC,CAACI,QAAF,GAAWlE,CAAd,CAAP;AAAA,UAAwBmE,CAAC,GAACvC,CAAC,CAAC,CAAD,EAAG,IAAEqC,CAAL,CAA3B;;AAAmCF,MAAAA,CAAC,GAACnC,CAAC,CAAC,CAAD,EAAGW,CAAC,GAAC,CAAC4B,CAAC,GAAC5B,CAAH,KAAO0B,CAAC,GAAClC,EAAT,CAAL,CAAH;AAAsB;;AAAA,WAAM,CAACQ,CAAC,GAACwB,CAAH,IAAM,CAAZ;AAAc,GAA3H,EAA4HjE,CAAC,CAAC,CAAD,CAAD,CAAKkE,QAAjI,CAAhE;AAAA,MAA2MI,CAAC,GAACvE,CAAC,CAACG,CAAD,EAAGE,CAAH,EAAKJ,CAAC,CAACA,CAAC,CAACsD,MAAF,GAAS,CAAV,CAAD,CAAcY,QAAnB,EAA4B1C,CAA5B,CAA9M;AAAA,MAA6O+C,CAA7O;AAAA,MAA+OC,CAAC,GAACxE,CAAC,CAAC,CAAD,CAAD,CAAKyE,MAAtP;AAAA,MAA6PC,CAAC,GAAC1E,CAAC,CAAC,CAAD,CAAD,CAAK2E,KAApQ;AAAA,MAA0QC,CAAC,GAACF,CAA5Q;AAAA,MAA8QG,CAAC,GAACH,CAAhR;AAAA,MAAkRI,CAAC,GAACF,CAApR;;AAAsR,OAAI,IAAInC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACzC,CAAC,CAACsD,MAAF,GAAS,CAAvB,EAAyBb,CAAC,EAA1B,EAA6B;AAAC,QAAG;AAACyB,MAAAA,QAAQ,EAACF;AAAV,QAAahE,CAAC,CAACyC,CAAD,CAAjB;AAAA,QAAqB;AAACkC,MAAAA,KAAK,EAACV,CAAP;AAASQ,MAAAA,MAAM,EAACN,CAAhB;AAAkBC,MAAAA,QAAQ,EAACC,CAA3B;AAA6Bb,MAAAA,aAAa,EAACuB;AAA3C,QAA8C/E,CAAC,CAACyC,CAAD,CAApE;AAAwE,QAAGc,CAAC,GAACwB,CAAF,GAAI,CAAP,EAAS;;AAAS,QAAG3E,CAAH,EAAK;AAAC,UAAGmB,CAAH,EAAK;AAAC,YAAIyD,CAAC,GAAClD,CAAC,CAAC,CAAD,EAAGuC,CAAC,GAACnE,CAAL,CAAP;AAAA,YAAe+E,CAAC,GAACnD,CAAC,CAAC,CAAD,EAAG,IAAEkD,CAAL,CAAlB;;AAA0BhB,QAAAA,CAAC,GAAClC,CAAC,CAAC,CAAD,EAAG+B,CAAC,GAAC,CAACoB,CAAC,GAACpB,CAAH,KAAOmB,CAAC,GAAC/C,EAAT,CAAL,CAAH;AAAsB;;AAAAqC,MAAAA,CAAC,GAACvE,CAAC,CAACG,CAAD,EAAGE,CAAH,EAAK4D,CAAL,EAAOxC,CAAP,CAAH;AAAa,KAAzE,MAA8E8C,CAAC,GAACpE,CAAC,GAAC,CAAJ;;AAAMqE,IAAAA,CAAC,KAAG,KAAK,CAAT,KAAaA,CAAC,GAACD,CAAf;AAAkB,QAAIY,EAAE,GAACH,CAAC,GAAC9B,CAAF,GAAIC,CAAC,CAAC6B,CAAC,GAAC9B,CAAH,CAAL,GAAW,CAAlB;AAAA,QAAoBkC,EAAE,GAAC5B,CAAC,GAACwB,CAAF,GAAI3B,CAAJ,GAAMC,CAAC,CAAC,CAACE,CAAC,GAACwB,CAAH,IAAM3B,CAAP,CAAP,GAAiB,CAAxC;AAA0CkB,IAAAA,CAAC,GAACzD,IAAI,CAACuE,GAAL,CAAS,GAAT,EAAad,CAAC,GAACzD,IAAI,CAACgB,GAAL,CAASqD,EAAT,EAAYC,EAAZ,CAAf,CAAF;AAAkC,QAAIE,EAAE,GAACrF,CAAC,CAACyC,CAAC,GAAC,CAAH,CAAD,CAAOgC,MAAd;AAAA,QAAqBa,EAAE,GAAC5E,EAAE,CAACyD,CAAD,EAAGkB,EAAH,CAA1B;;AAAiC,QAAGC,EAAE,GAAC,CAAN,EAAQ;AAAC,UAAIN,CAAC,GAACzE,CAAC,CAACE,CAAC,CAAC+D,CAAD,CAAF,EAAMF,CAAN,CAAP;;AAAgB,WAAI,IAAIW,CAAC,GAAC,IAAE,EAAR,EAAWM,CAAC,GAAC,CAAjB,EAAmBA,CAAC,IAAE,CAAtB,EAAwBA,CAAC,IAAEN,CAA3B,EAA6BJ,CAAC,GAACzD,CAAC,CAACd,CAAC,CAAC2D,CAAD,EAAGe,CAAH,CAAF,EAAQf,CAAR,EAAU/B,CAAC,GAACqD,CAAZ,CAAH,EAAkB5B,CAAC,CAAC6B,IAAF,CAAOX,CAAP,CAAlB,EAA4BC,CAAC,GAAC1D,CAAC,CAACf,CAAC,CAAC4D,CAAD,EAAGe,CAAH,CAAF,EAAQf,CAAR,EAAU/B,CAAC,GAAC,CAACqD,CAAb,CAA/B,EAA+C3B,CAAC,CAAC4B,IAAF,CAAOV,CAAP,CAA/C;;AAAyDJ,MAAAA,CAAC,GAACG,CAAF,EAAID,CAAC,GAACE,CAAN;AAAQ;AAAS;;AAAA,QAAIW,EAAE,GAAClF,CAAC,CAACE,CAAC,CAACkB,CAAC,CAAC0D,EAAD,EAAIlB,CAAJ,EAAMmB,EAAN,CAAF,CAAF,EAAehB,CAAf,CAAR;AAA0BO,IAAAA,CAAC,GAACvE,CAAC,CAAC2D,CAAD,EAAGwB,EAAH,CAAH,EAAU,CAAChD,CAAC,KAAG,CAAJ,IAAOzB,CAAC,CAAC0D,CAAD,EAAGG,CAAH,CAAD,GAAOpB,CAAf,MAAoBE,CAAC,CAAC6B,IAAF,CAAOX,CAAP,GAAUH,CAAC,GAACG,CAAhC,CAAV,EAA6CC,CAAC,GAACzE,CAAC,CAAC4D,CAAD,EAAGwB,EAAH,CAAhD,EAAuD,CAAChD,CAAC,KAAG,CAAJ,IAAOzB,CAAC,CAAC4D,CAAD,EAAGE,CAAH,CAAD,GAAOrB,CAAf,MAAoBG,CAAC,CAAC4B,IAAF,CAAOV,CAAP,GAAUF,CAAC,GAACE,CAAhC,CAAvD,EAA0FjB,CAAC,GAACG,CAA5F,EAA8FQ,CAAC,GAACL,CAAhG;AAAkG;;AAAA,MAAIuB,CAAC,GAAC1F,CAAC,CAAC,CAAD,CAAD,CAAK2E,KAAL,CAAWb,KAAX,CAAiB,CAAjB,EAAmB,CAAnB,CAAN;AAAA,MAA4B6B,CAAC,GAAC3F,CAAC,CAACsD,MAAF,GAAS,CAAT,GAAWtD,CAAC,CAACA,CAAC,CAACsD,MAAF,GAAS,CAAV,CAAD,CAAcqB,KAAd,CAAoBb,KAApB,CAA0B,CAA1B,EAA4B,CAA5B,CAAX,GAA0CzD,CAAC,CAACL,CAAC,CAAC,CAAD,CAAD,CAAK2E,KAAN,EAAY,CAAC,CAAD,EAAG,CAAH,CAAZ,CAAzE;AAAA,MAA4FiB,CAAC,GAACjC,CAAC,CAACL,MAAF,IAAU,CAAV,IAAaM,CAAC,CAACN,MAAF,IAAU,CAArH;AAAA,MAAuHuC,CAAC,GAAC,EAAzH;AAAA,MAA4HC,CAAC,GAAC,EAA9H;;AAAiI,MAAGF,CAAH,EAAK;AAAC,QAAG,EAAE3C,CAAC,IAAEG,CAAL,KAASP,CAAZ,EAAc;AAAC,UAAIJ,CAAC,GAACb,CAAC,CAAC8D,CAAD,EAAGzE,CAAC,CAACR,CAAC,CAACH,CAAC,CAACoF,CAAD,EAAGC,CAAH,CAAF,CAAF,CAAJ,EAAgB,EAAEpB,CAAC,IAAED,CAAL,CAAhB,CAAP;AAAA,UAAgCN,CAAC,GAAC,EAAlC;;AAAqC,WAAI,IAAIC,CAAC,GAAC,IAAE,EAAR,EAAWE,CAAC,GAACF,CAAjB,EAAmBE,CAAC,IAAE,CAAtB,EAAwBA,CAAC,IAAEF,CAA3B,EAA6BD,CAAC,CAACwB,IAAF,CAAOpE,CAAC,CAACqB,CAAD,EAAGiD,CAAH,EAAKxD,CAAC,GAAC,CAAF,GAAIiC,CAAT,CAAR;;AAAqB,aAAOH,CAAP;AAAS;AAAC,GAAtH,MAA0H;AAAC,QAAGf,CAAC,IAAEG,CAAC,IAAEwC,CAAT,EAAWC,CAAC,CAACL,IAAF,CAAOE,CAAP,EAASrF,CAAC,CAACqF,CAAD,EAAG,CAAC,EAAD,EAAI,CAAJ,CAAH,CAAV,EAAX,KAAsC,IAAG3C,CAAH,EAAK,KAAI,IAAIkB,CAAC,GAAC,IAAE,EAAR,EAAWE,CAAC,GAACF,CAAjB,EAAmBE,CAAC,IAAE,CAAtB,EAAwBA,CAAC,IAAEF,CAA3B,EAA6B;AAAC,UAAII,CAAC,GAACjD,CAAC,CAACwC,CAAC,CAAC,CAAD,CAAF,EAAM8B,CAAN,EAAQxD,CAAC,GAACiC,CAAV,CAAP;AAAoB0B,MAAAA,CAAC,CAACL,IAAF,CAAOnB,CAAP;AAAU,KAAjE,MAAqE;AAAC,UAAIJ,CAAC,GAAC3D,CAAC,CAACqD,CAAC,CAAC,CAAD,CAAF,EAAMC,CAAC,CAAC,CAAD,CAAP,CAAP;AAAA,UAAmBO,CAAC,GAAC5D,CAAC,CAAC0D,CAAD,EAAG,EAAH,CAAtB;AAAA,UAA6BI,CAAC,GAAC9D,CAAC,CAAC0D,CAAD,EAAG,GAAH,CAAhC;AAAwC4B,MAAAA,CAAC,CAACL,IAAF,CAAOlF,CAAC,CAACoF,CAAD,EAAGvB,CAAH,CAAR,EAAc7D,CAAC,CAACoF,CAAD,EAAGrB,CAAH,CAAf,EAAqBhE,CAAC,CAACqF,CAAD,EAAGrB,CAAH,CAAtB,EAA4BhE,CAAC,CAACqF,CAAD,EAAGvB,CAAH,CAA7B;AAAoC;AAAA,QAAI1B,CAAC,GAACtB,EAAE,CAACwC,CAAC,CAACA,CAAC,CAACL,MAAF,GAAS,CAAV,CAAF,EAAeM,CAAC,CAACA,CAAC,CAACN,MAAF,GAAS,CAAV,CAAhB,CAAR;AAAA,QAAsCU,CAAC,GAACvD,CAAC,CAACQ,CAAC,CAACX,CAAC,CAACqF,CAAD,EAAGlD,CAAH,CAAF,CAAF,CAAzC;AAAqD,QAAGW,CAAC,IAAEH,CAAC,IAAE2C,CAAT,EAAWE,CAAC,CAACN,IAAF,CAAOG,CAAP,EAAStF,CAAC,CAACsF,CAAD,EAAG,CAAC,CAAD,EAAG,CAAH,CAAH,CAAV,EAAX,KAAqC,IAAGxC,CAAH,EAAK;AAAC,UAAIc,CAAC,GAACrC,CAAC,CAAC+D,CAAD,EAAG3B,CAAH,EAAKM,CAAL,CAAP;;AAAe,WAAI,IAAIH,CAAC,GAAC,IAAE,EAAR,EAAWE,CAAC,GAAC,CAAjB,EAAmBA,CAAC,IAAE,CAAtB,EAAwBA,CAAC,IAAEF,CAA3B,EAA6B;AAAC,YAAIY,CAAC,GAAC3D,CAAC,CAAC6C,CAAD,EAAG0B,CAAH,EAAKzD,CAAC,GAAC,CAAF,GAAImC,CAAT,CAAP;AAAmByB,QAAAA,CAAC,CAACN,IAAF,CAAOT,CAAP;AAAU;AAAC,KAAjF,MAAsFe,CAAC,CAACN,IAAF,CAAOnF,CAAC,CAACsF,CAAD,EAAGpF,CAAC,CAACyD,CAAD,EAAGM,CAAH,CAAJ,CAAR,EAAmBjE,CAAC,CAACsF,CAAD,EAAGpF,CAAC,CAACyD,CAAD,EAAGM,CAAC,GAAC,GAAL,CAAJ,CAApB,EAAmChE,CAAC,CAACqF,CAAD,EAAGpF,CAAC,CAACyD,CAAD,EAAGM,CAAC,GAAC,GAAL,CAAJ,CAApC,EAAmDhE,CAAC,CAACqF,CAAD,EAAGpF,CAAC,CAACyD,CAAD,EAAGM,CAAH,CAAJ,CAApD;AAAgE;;AAAA,SAAOX,CAAC,CAACoC,MAAF,CAASD,CAAT,EAAWlC,CAAC,CAACoC,OAAF,EAAX,EAAuBH,CAAvB,CAAP;AAAiC;;AAAA,SAASI,EAAT,CAAYjG,CAAZ,EAAcC,CAAC,GAAC,EAAhB,EAAmB;AAAC,MAAIiD,CAAJ;AAAM,MAAG;AAACgD,IAAAA,UAAU,EAAChG,CAAC,GAAC,EAAd;AAAiBkC,IAAAA,IAAI,EAACjC,CAAC,GAAC,EAAxB;AAA2ByC,IAAAA,IAAI,EAACxC,CAAC,GAAC,CAAC;AAAnC,MAAsCH,CAAzC;AAA2C,MAAGD,CAAC,CAACsD,MAAF,KAAW,CAAd,EAAgB,OAAM,EAAN;AAAS,MAAI/B,CAAC,GAAC,MAAI,CAAC,IAAErB,CAAH,IAAM,GAAhB;AAAA,MAAoBsB,CAAC,GAAC2E,KAAK,CAACC,OAAN,CAAcpG,CAAC,CAAC,CAAD,CAAf,IAAoBA,CAApB,GAAsBA,CAAC,CAACqG,GAAF,CAAM,CAAC;AAAC5E,IAAAA,CAAC,EAAC0B,CAAH;AAAK5B,IAAAA,CAAC,EAAC6B,CAAP;AAASc,IAAAA,QAAQ,EAACb,CAAC,GAAC;AAApB,GAAD,KAA2B,CAACF,CAAD,EAAGC,CAAH,EAAKC,CAAL,CAAjC,CAA5C;AAAsF7B,EAAAA,CAAC,CAAC8B,MAAF,KAAW,CAAX,KAAe9B,CAAC,GAAC,CAAC,GAAGA,CAAJ,EAAM,CAAC,GAAGnB,CAAC,CAACmB,CAAC,CAAC,CAAD,CAAF,EAAM,CAAC,CAAD,EAAG,CAAH,CAAN,CAAL,EAAkB,GAAGA,CAAC,CAAC,CAAD,CAAD,CAAKsC,KAAL,CAAW,CAAX,CAArB,CAAN,CAAjB;AAA6D,MAAIrC,CAAC,GAAC,CAAC;AAACkD,IAAAA,KAAK,EAAC,CAACnD,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAD,EAASA,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,CAAT,CAAP;AAAyB0C,IAAAA,QAAQ,EAAC1C,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,KAAS,GAA3C;AAA+CiD,IAAAA,MAAM,EAAC,CAAC,CAAD,EAAG,CAAH,CAAtD;AAA4DL,IAAAA,QAAQ,EAAC,CAArE;AAAuEZ,IAAAA,aAAa,EAAC;AAArF,GAAD,CAAN;AAAA,MAAgG9B,CAAC,GAAC,CAAC,CAAnG;AAAA,MAAqGmB,CAAC,GAAC,CAAvG;AAAA,MAAyGE,CAAC,GAACtB,CAAC,CAAC,CAAD,CAA5G;AAAA,MAAgHwB,CAAC,GAACzB,CAAC,CAAC8B,MAAF,GAAS,CAA3H;;AAA6H,OAAI,IAAIH,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC3B,CAAC,CAAC8B,MAAhB,EAAuBH,CAAC,EAAxB,EAA2B;AAAC,QAAIC,CAAC,GAAChD,CAAC,IAAE+C,CAAC,KAAGF,CAAP,GAASzB,CAAC,CAAC2B,CAAD,CAAV,GAAcxB,CAAC,CAACoB,CAAC,CAAC4B,KAAH,EAASnD,CAAC,CAAC2B,CAAD,CAAV,EAAc5B,CAAd,CAArB;AAAsC,QAAGZ,EAAE,CAACoC,CAAC,CAAC4B,KAAH,EAASvB,CAAT,CAAL,EAAiB;AAAS,QAAIC,CAAC,GAACnC,EAAE,CAACkC,CAAD,EAAGL,CAAC,CAAC4B,KAAL,CAAR;;AAAoB,QAAG9B,CAAC,IAAEQ,CAAH,EAAKF,CAAC,GAACF,CAAF,IAAK,CAACvB,CAAd,EAAgB;AAAC,UAAGmB,CAAC,GAAC1C,CAAL,EAAO;AAASuB,MAAAA,CAAC,GAAC,CAAC,CAAH;AAAK;;AAAAqB,IAAAA,CAAC,GAAC;AAAC4B,MAAAA,KAAK,EAACvB,CAAP;AAASc,MAAAA,QAAQ,EAAC1C,CAAC,CAAC2B,CAAD,CAAD,CAAK,CAAL,KAAS,EAA3B;AAA8BsB,MAAAA,MAAM,EAACxD,CAAC,CAACX,CAAC,CAACyC,CAAC,CAAC4B,KAAH,EAASvB,CAAT,CAAF,CAAtC;AAAqDgB,MAAAA,QAAQ,EAACf,CAA9D;AAAgEG,MAAAA,aAAa,EAACX;AAA9E,KAAF,EAAmFpB,CAAC,CAAC+D,IAAF,CAAOzC,CAAP,CAAnF;AAA6F;;AAAA,SAAOtB,CAAC,CAAC,CAAD,CAAD,CAAKgD,MAAL,GAAY,CAAC,CAACvB,CAAC,GAACzB,CAAC,CAAC,CAAD,CAAJ,KAAU,IAAV,GAAe,KAAK,CAApB,GAAsByB,CAAC,CAACuB,MAAzB,KAAkC,CAAC,CAAD,EAAG,CAAH,CAA9C,EAAoDhD,CAA3D;AAA6D;;AAAA,SAAS6E,EAAT,CAAYtG,CAAZ,EAAcC,CAAC,GAAC,EAAhB,EAAmB;AAAC,SAAOkC,EAAE,CAAC8D,EAAE,CAACjG,CAAD,EAAGC,CAAH,CAAH,EAASA,CAAT,CAAT;AAAqB;;AAAA,IAAIsG,EAAE,GAACD,EAAP;AAAU,SAAOC,EAAE,IAAIC,OAAb,EAAqBF,EAAE,IAAIG,SAA3B,EAAqCtE,EAAE,IAAIuE,sBAA3C,EAAkET,EAAE,IAAIU,eAAxE","sourcesContent":["function Y(e,t,u,S=g=>g){return e*S(.5-t*(.5-u))}function p(e,t){return[e[0]+t[0],e[1]+t[1]]}function m(e,t){return[e[0]-t[0],e[1]-t[1]]}function f(e,t){return[e[0]*t,e[1]*t]}function fe(e,t){return[e[0]/t,e[1]/t]}function I(e){return[e[1],-e[0]]}function re(e,t){return e[0]*t[0]+e[1]*t[1]}function oe(e,t){return e[0]===t[0]&&e[1]===t[1]}function be(e){return Math.hypot(e[0],e[1])}function ge(e){return e[0]*e[0]+e[1]*e[1]}function Z(e,t){return ge(m(e,t))}function K(e){return fe(e,be(e))}function se(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function ue(e,t){return f(p(e,t),.5)}function V(e,t,u){let S=Math.sin(u),g=Math.cos(u),y=e[0]-t[0],o=e[1]-t[1],x=y*g-o*S,L=y*S+o*g;return[x+t[0],L+t[1]]}function N(e,t,u){return p(e,f(m(t,e),u))}function $(e,t,u){return p(e,f(t,u))}var{min:_,PI:de}=Math,ie=.275,j=de+1e-4;function pe(e,t={}){let{size:u=16,smoothing:S=.5,thinning:g=.5,simulatePressure:y=!0,easing:o=n=>n,start:x={},end:L={},last:q=!1}=t,{cap:k=!0,taper:P=0,easing:C=n=>n*(2-n)}=x,{cap:b=!0,taper:a=0,easing:T=n=>--n*n*n+1}=L;if(e.length===0||u<=0)return[];let U=e[e.length-1].runningLength,B=Math.pow(u*S,2),O=[],v=[],X=e.slice(0,10).reduce((n,i)=>{let r=i.pressure;if(y){let s=_(1,i.distance/u),l=_(1,1-s);r=_(1,n+(l-n)*(s*ie))}return(n+r)/2},e[0].pressure),c=Y(u,g,e[e.length-1].pressure,o),J,A=e[0].vector,z=e[0].point,F=z,E=z,M=F;for(let n=0;n<e.length-1;n++){let{pressure:i}=e[n],{point:r,vector:s,distance:l,runningLength:R}=e[n];if(U-R<3)continue;if(g){if(y){let D=_(1,l/u),W=_(1,1-D);i=_(1,X+(W-X)*(D*ie))}c=Y(u,g,i,o)}else c=u/2;J===void 0&&(J=c);let ae=R<P?C(R/P):1,le=U-R<a?T((U-R)/a):1;c=Math.max(.01,c*Math.min(ae,le));let ee=e[n+1].vector,te=re(s,ee);if(te<0){let D=f(I(A),c);for(let W=1/13,H=0;H<=1;H+=W)E=V(m(r,D),r,j*H),O.push(E),M=V(p(r,D),r,j*-H),v.push(M);z=E,F=M;continue}let ne=f(I(N(ee,s,te)),c);E=m(r,ne),(n===0||Z(z,E)>B)&&(O.push(E),z=E),M=p(r,ne),(n===0||Z(F,M)>B)&&(v.push(M),F=M),X=i,A=s}let d=e[0].point.slice(0,2),h=e.length>1?e[e.length-1].point.slice(0,2):p(e[0].point,[1,1]),Q=O.length<=1||v.length<=1,w=[],G=[];if(Q){if(!(P||a)||q){let n=$(d,K(I(m(d,h))),-(J||c)),i=[];for(let r=1/13,s=r;s<=1;s+=r)i.push(V(n,d,j*2*s));return i}}else{if(P||a&&Q)w.push(d,p(d,[.1,0]));else if(k)for(let r=1/13,s=r;s<=1;s+=r){let l=V(v[0],d,j*s);w.push(l)}else{let r=m(O[0],v[0]),s=f(r,.5),l=f(r,.51);w.push(m(d,s),m(d,l),p(d,l),p(d,s))}let n=ue(O[O.length-1],v[v.length-1]),i=I(K(m(h,n)));if(a||P&&Q)G.push(h,p(h,[1,0]));else if(b){let r=$(h,i,c);for(let s=1/29,l=0;l<=1;l+=s){let R=V(r,h,j*3*l);G.push(R)}}else G.push(p(h,f(i,c)),p(h,f(i,c*.99)),m(h,f(i,c*.99)),m(h,f(i,c)))}return O.concat(G,v.reverse(),w)}function me(e,t={}){var C;let{streamline:u=.5,size:S=16,last:g=!1}=t;if(e.length===0)return[];let y=.15+(1-u)*.85,o=Array.isArray(e[0])?e:e.map(({x:b,y:a,pressure:T=.5})=>[b,a,T]);o.length===1&&(o=[...o,[...p(o[0],[1,1]),...o[0].slice(2)]]);let x=[{point:[o[0][0],o[0][1]],pressure:o[0][2]||.25,vector:[1,1],distance:0,runningLength:0}],L=!1,q=0,k=x[0],P=o.length-1;for(let b=1;b<o.length;b++){let a=g&&b===P?o[b]:N(k.point,o[b],y);if(oe(k.point,a))continue;let T=se(a,k.point);if(q+=T,b<P&&!L){if(q<S)continue;L=!0}k={point:a,pressure:o[b][2]||.5,vector:K(m(k.point,a)),distance:T,runningLength:q},x.push(k)}return x[0].vector=((C=x[1])==null?void 0:C.vector)||[0,0],x}function ce(e,t={}){return pe(me(e,t),t)}var qe=ce;export{qe as default,ce as getStroke,pe as getStrokeOutlinePoints,me as getStrokePoints};\n"]},"metadata":{},"sourceType":"module"}